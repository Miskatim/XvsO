<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script>
        let ALL = document.createElement("div");
        let label = document.createElement("div");
        let player1 = document.createElement("div");
        let player2 = document.createElement("div");
        let inputPlayerOne = document.createElement("input");
        let inputPlayerTwo = document.createElement("input");
        let ok1 = document.createElement("div")
        let ok2 = document.createElement("div")
        let firstPlayer = document.createElement("div");
        let secondPlayer = document.createElement("div");
        let divWithAllCase = document.createElement("div");
        let firstPanel = document.createElement("div");
        let secondPanel = document.createElement("div");
        let thirdsPanel = document.createElement("div");
        let div1 = document.createElement("div");
        let div2 = document.createElement("div");
        let div3 = document.createElement("div");
        let div4 = document.createElement("div");
        let div5 = document.createElement("div");
        let div6 = document.createElement("div");
        let div7 = document.createElement("div");
        let div8 = document.createElement("div");
        let div9 = document.createElement("div");
        let again = document.createElement("button");
        let schot = document.createElement("div");
        let Xsc = document.createElement("div");
        let Osc = document.createElement("div");
        let Os = 0;
        let Xs = 0;

        again.style.display = "none";

        
        Xsc.textContent ="Player1: win/s " + Xs;
        Osc.textContent ="Player2: win/s " + Os;
        
        ok1.textContent = "ok";
        ok2.textContent = "ok";
        again.textContent = "NEW GAME";
        let hrest = "X";
        let nolik = "O";

        schot.id = "schot";
        again.id = "again";
        firstPlayer.id = "fpid";
        secondPlayer.id = "spid";
        ALL.id = "all";
        label.id = "label";
        player1.id = "pl1";
        player2.id = "pl2";
        divWithAllCase.id = "divWithAllCase";
        firstPanel.id = "fp";
        secondPanel.id = "sp";
        thirdsPanel.id = "tp";
        div1.id = "div1";
        div2.id = "div2";
        div3.id = "div3";
        div4.id = "div4";
        div5.id = "div5";
        div6.id = "div6";
        div7.id = "div7";
        div8.id = "div8";
        div9.id = "div9";


        div1.className = "divs";
        div2.className = "divs";
        div3.className = "divs";
        div4.className = "divs";
        div5.className = "divs";
        div6.className = "divs";
        div7.className = "divs";
        div8.className = "divs";
        div9.className = "divs";


        document.body.appendChild(ALL);
        document.body.appendChild(schot);
        document.getElementById("schot").appendChild(Xsc);
        document.getElementById("schot").appendChild(Osc);
        document.getElementById("all").appendChild(label);
        document.getElementById("label").appendChild(player1);
        document.getElementById("label").appendChild(player2);
        document.getElementById("label").appendChild(again);
        document.getElementById("pl1").appendChild(inputPlayerOne);
        document.getElementById("pl1").appendChild(ok1);
        document.getElementById("pl1").appendChild(firstPlayer);
        document.getElementById("pl2").appendChild(inputPlayerTwo);
        document.getElementById("pl2").appendChild(ok2);
        document.getElementById("pl2").appendChild(secondPlayer);
        document.getElementById("all").appendChild(divWithAllCase)
        document.getElementById("divWithAllCase").appendChild(firstPanel);
        document.getElementById("divWithAllCase").appendChild(secondPanel);
        document.getElementById("divWithAllCase").appendChild(thirdsPanel);
        document.getElementById("fp").appendChild(div1);
        document.getElementById("fp").appendChild(div2);
        document.getElementById("fp").appendChild(div3);
        document.getElementById("sp").appendChild(div4);
        document.getElementById("sp").appendChild(div5);
        document.getElementById("sp").appendChild(div6);
        document.getElementById("tp").appendChild(div7);
        document.getElementById("tp").appendChild(div8);
        document.getElementById("tp").appendChild(div9);

        let allDivInMainDiv = document.querySelectorAll(".divs");
        console.log(allDivInMainDiv);
        firstPanel.style.display = "flex";
        secondPanel.style.display = "flex";
        thirdsPanel.style.display = "flex";

        let counter = 0;
        let symbol;
        //alert(counter)

        if (counter == 0) {
            symbol = hrest;
        } else if (counter == 1) {
            symbol = nolik;
        } else if (counter > 1) {
            counter == 0
        } else {
        }

        // div1.addEventListener("click", functionDiv(div1));
        // div2.addEventListener("click", functionDiv(div2));
        // div3.addEventListener("click", functionDiv(div3));
        // div4.addEventListener("click", functionDiv(div4));
        // div5.addEventListener("click", functionDiv(div5));
        // div6.addEventListener("click", functionDiv(div6));
        // div7.addEventListener("click", functionDiv(div7));
        // div8.addEventListener("click", functionDiv(div8));
        // div9.addEventListener("click", functionDiv(div9));

        ok1.addEventListener("click", functionToAddNickNameForFirstPlayer);
        ok2.addEventListener("click", functionToAddNickNameForSecondPlayer);
        div1.addEventListener("click", function() {functionDiv(div1);});
        div2.addEventListener("click", function() {functionDiv(div2);});
        div3.addEventListener("click", function() {functionDiv(div3);});
        div4.addEventListener("click", function() {functionDiv(div4);});
        div5.addEventListener("click", function() {functionDiv(div5);});
        div6.addEventListener("click", function() {functionDiv(div6);});
        div7.addEventListener("click", function() {functionDiv(div7);});
        div8.addEventListener("click", function() {functionDiv(div8);});
        div9.addEventListener("click", function() {functionDiv(div9);});

        function functionToAddNickNameForFirstPlayer() {
            if (inputPlayerOne !== "") {
                firstPlayer.textContent = "Player1 " + inputPlayerOne.value;
                inputPlayerOne.value = "";
            }
        }

        function functionToAddNickNameForSecondPlayer() {
            if (inputPlayerTwo !== "") {
                secondPlayer.textContent = "Player2 " + inputPlayerTwo.value;
                inputPlayerTwo.value = "";
            }
        }
/*



        function functionDiv1() {
            if (div1.textContent == nolik || div1.textContent == hrest) {
                alert("you already mark this place, choose another one place")
            } else {
                //alert(counter);
                if (counter == 0) {
                    symbol = hrest;
                } else if (counter == 1) {
                    symbol = nolik;
                } else if (counter > 1) {
                    counter = 0
                    symbol = hrest
                } else {
                }
                div1.textContent = symbol;
                counter++;
                //alert(counter)
            }
        }

        function functionDiv2() {
            if (div2.textContent == nolik || div2.textContent == hrest) {
                alert("you already mark this place, choose another one place")
            } else {
                //alert(counter);
                if (counter == 0) {
                    symbol = hrest;
                } else if (counter == 1) {
                    symbol = nolik;
                } else if (counter > 1) {
                    counter = 0
                    symbol = hrest
                } else {
                }
                div2.textContent = symbol;
                counter++;
                //alert(counter)
            }
        }

        function functionDiv3() {
            if (div3.textContent == nolik || div3.textContent == hrest) {
                alert("you already mark this place, choose another one place")
            } else {
                //alert(counter)
                if (counter == 0) {
                    symbol = hrest;
                } else if (counter == 1) {
                    symbol = nolik;
                } else if (counter = 2) {
                    counter = 0
                    symbol = hrest
                } else {
                }
                div3.textContent = symbol;
                counter++
                //alert(counter)
            }
        }

        function functionDiv4() {
            if (div4.textContent == nolik || div4.textContent == hrest) {
                alert("you already mark this place, choose another one place")
            } else {
                //counter++
                if (counter == 0) {
                    symbol = hrest;
                } else if (counter == 1) {
                    symbol = nolik;
                } else if (counter = 2) {
                    counter = 0
                    symbol = hrest
                } else {
                }
                div4.textContent = symbol;
                counter++
            }
        }

        function functionDiv5() {
            if (div5.textContent == nolik || div5.textContent == hrest) {
                alert("you already mark this place, choose another one place")
            } else {
                if (counter == 0) {
                    symbol = hrest;
                } else if (counter == 1) {
                    symbol = nolik;
                } else if (counter = 2) {
                    counter = 0
                    symbol = hrest
                } else {
                }
                div5.textContent = symbol;
                counter++
            }
        }

        function functionDiv6() {
            if (div6.textContent == nolik || div6.textContent == hrest) {
                alert("you already mark this place, choose another one place")
            } else {
                if (counter == 0) {
                    symbol = hrest;
                } else if (counter == 1) {
                    symbol = nolik;
                } else if (counter = 2) {
                    counter = 0
                    symbol = hrest
                } else {
                }
                div6.textContent = symbol;
                counter++
            }
        }

        function functionDiv7() {
            if (div7.textContent == nolik || div7.textContent == hrest) {
                alert("you already mark this place, choose another one place")
            } else {
                if (counter == 0) {
                    symbol = hrest;
                } else if (counter == 1) {
                    symbol = nolik;
                } else if (counter = 2) {
                    counter = 0
                    symbol = hrest
                } else {
                }
                div7.textContent = symbol;
                counter++
            }
        }

        function functionDiv8() {
            if (div8.textContent == nolik || div8.textContent == hrest) {
                alert("you already mark this place, choose another one place")
            } else {
                if (counter == 0) {
                    symbol = hrest;
                } else if (counter == 1) {
                    symbol = nolik;
                } else if (counter = 2) {
                    counter = 0
                    symbol = hrest
                } else {
                }
                div8.textContent = symbol;
                counter++
            }
        }

        function functionDiv9() {
            if (div9.textContent == nolik || div9.textContent == hrest) {
                alert("you already mark this place, choose another one place")
            } else {
                if (counter == 0) {
                    symbol = hrest;
                } else if (counter == 1) {
                    symbol = nolik;
                } else if (counter = 2) {
                    counter = 0
                    symbol = hrest
                } else {
                }
                div9.textContent = symbol;
                counter++
            }
        }*/

        function functionDiv(div) {
            
            if (firstPlayer.textContent !== "" && secondPlayer.textContent !== "") {
                if (div.textContent == nolik || div.textContent == hrest) {
                    alert("you already mark this place, choose another one place");
                } else {
                    if (counter == 0) {
                        symbol = hrest;
                    } else if (counter == 1) {
                        symbol = nolik;
                    } else if (counter = 2) {
                        counter = 0;
                        symbol = hrest;
                    } else {
                    }
                    div.textContent = symbol;
                    counter++;
                }
                checkWinner(div);
            } else {
                alert("write nickname");
            }

        }

        function checkWinner(div) {
            

            if (div1.textContent == hrest && div2.textContent == hrest && div3.textContent == hrest) {
                alert( firstPlayer.textContent.replace("Player 1", "") + " (X)" + " " + "winner");
                Xs++;
                system();
            }

            if (div1.textContent == hrest && div4.textContent == hrest && div7.textContent == hrest) {
                alert( firstPlayer.textContent.replace("Player 1", "") + " (X)" + " " + "winner");
                Xs++;
                system();
            }

            if (div7.textContent == hrest && div8.textContent == hrest && div9.textContent == hrest) {
                alert( firstPlayer.textContent.replace("Player 1", "") + " (X)" + " " + "winner");
                Xs++;
                system();
            }

            if (div3.textContent == hrest && div6.textContent == hrest && div9.textContent == hrest) {
                alert( firstPlayer.textContent.replace("Player 1", "") + " (X)" + " " + "winner");
                Xs++;
                system();
            }

            if (div1.textContent == hrest && div5.textContent == hrest && div9.textContent == hrest) {
                alert( firstPlayer.textContent.replace("Player 1", "") + " (X)" + " " + "winner");
                Xs++;
                system();
            }

            if (div3.textContent == hrest && div5.textContent == hrest && div7.textContent == hrest) {
                alert( firstPlayer.textContent.replace("Player 1", "") + " (X)" + " " + "winner");
                Xs++;
                system();
            }

            if (div2.textContent == hrest && div5.textContent == hrest && div8.textContent == hrest) {
                alert( firstPlayer.textContent.replace("Player 1", "") + " (X)" + " " + "winner");
                Xs++;
                system();
            }

            if (div4.textContent == hrest && div5.textContent == hrest && div6.textContent == hrest) {
                alert( firstPlayer.textContent.replace("Player 1", "") + " (X)" + " " + "winner");
                Xs++;
                system();
            }


            

            if (div1.textContent == nolik && div2.textContent == nolik && div3.textContent == nolik) {
                alert( secondPlayer.textContent.replace("Player 2", "") + " (O)" + " " + "winner");
                Os++;
                system();
            }

            if (div1.textContent == nolik && div4.textContent == nolik && div7.textContent == nolik) {
                alert( secondPlayer.textContent.replace("Player 2", "") + " (O)" + " " + "winner");
                Os++;
                system();
            }

            if (div7.textContent == nolik && div8.textContent == nolik && div9.textContent == nolik) {
                alert( secondPlayer.textContent.replace("Player 2", "") + " (O)" + " " + "winner");
                Os++;
                system();
            }

            if (div3.textContent == nolik    && div6.textContent == nolik && div9.textContent == nolik) {
                alert( secondPlayer.textContent.replace("Player 2", "") + " (O)" + " " + "winner");
                Os++;
                system();
            }

            if (div1.textContent == nolik && div5.textContent == nolik && div9.textContent == nolik) {
                alert(  secondPlayer.textContent.replace("Player 2", "") + " (O)" + " " + "winner");
                Os++;
                system();
            }

            if (div3.textContent == nolik && div5.textContent == nolik && div7.textContent == nolik) {
                alert( secondPlayer.textContent.replace("Player 2", "") + " (O)" + " " + "winner");
                Os++;
                system();
            }

            if (div2.textContent == nolik && div5.textContent == nolik && div8.textContent == nolik) {
                alert( firstPlayer.textContent.replace("Player 2", "") + " (X)" + " " + "winner");
                Os++;
                system();
            }

            if (div4.textContent == nolik && div5.textContent == nolik && div6.textContent == nolik) {
                alert( firstPlayer.textContent.replace("Player 2", "") + " (X)" + " " + "winner");
                Os++;
                system();
            }
        }

        function system() {
            again.style.display = "block";
            again.addEventListener("click", () => {
                again.style.display = "none";
                for (let index = 0; index < 9; index++) {
                    div1.textContent = "";
                    div2.textContent = "";
                    div3.textContent = "";
                    div4.textContent = "";
                    div5.textContent = "";
                    div6.textContent = "";
                    div7.textContent = "";
                    div8.textContent = "";
                    div9.textContent = "";
                    counter = 0;
                }
            })
        }
    </script>

    <style>
        .divs {
            border: 3px solid black;
            width: 30px;
            height: 30px;

            display: flex;
            justify-content: center;
            align-items: center;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        input{
            width: 100px;
        }

        #pl1, #pl2    {
            display: flex;
        }

        #fpid   {
            /* display: none; */
            margin-left: 20px;
        }

        #spid   {
            /* display: none; */
            margin-left: 20px;
        }

        /* #schot  {
            display: flex;
        } */
    </style>

</body>

</html>